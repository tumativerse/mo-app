# SonarCloud Configuration for Local Analysis
# Run with: npm run sonar

# Project identification
sonar.projectKey=tumativerse_mo-app
sonar.organization=tumativerse

# Project metadata
sonar.projectName=Mo Fitness App
sonar.projectVersion=1.0

# Source code location
sonar.sources=app,lib,components
sonar.tests=tests

# Exclusions - DO NOT analyze these files
# Aligned with vitest.config.ts coverage exclusions
sonar.exclusions=\
  **/*.test.ts,**/*.test.tsx,\
  **/*.spec.ts,**/*.spec.tsx,\
  **/*.config.js,**/*.config.ts,\
  **/*.setup.*,\
  **/*.d.ts,\
  **/node_modules/**,\
  **/.next/**,\
  **/coverage/**,\
  **/dist/**,\
  **/playwright-report/**,\
  **/test-results/**,\
  .scannerwork/**,\
  archive/**,\
  tests/**,\
  scripts/**,\
  **/migrations/**,**/*.sql,\
  lib/db/seed-*.ts,\
  lib/db/analyze-*.ts,\
  lib/db/check-*.ts,\
  lib/db/schema.ts,\
  lib/db/index.ts,\
  lib/design/tokens.ts,\
  lib/design/variants.ts

# Coverage reports (from Vitest)
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# Language-specific settings
sonar.javascript.file.suffixes=.js,.jsx
sonar.typescript.file.suffixes=.ts,.tsx

# Server URL
sonar.host.url=https://sonarcloud.io

# Authentication token (set via environment variable)
# Run: export SONAR_TOKEN=your-token-here
# Or add to .env.local: SONAR_TOKEN=your-token-here

# Quality Gate - ENFORCED for pre-push (blocks on failure)
# Requires 100% coverage and <3% duplication
sonar.qualitygate.wait=true
sonar.qualitygate.timeout=300

# New Code Period - Compare against main branch
sonar.newCode.referenceBranch=main
