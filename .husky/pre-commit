#!/bin/sh
# Pre-commit quality checks
# Runs on EVERY commit - keeps checks under 60 seconds

echo "ğŸ” Pre-commit: Running quality checks..."

# 1. TypeScript type checking (~10 sec)
echo "  â†’ Checking TypeScript types..."
npm run type-check || {
  echo "âŒ TypeScript errors found. Please fix and try again."
  exit 1
}

# 2. ESLint (~15 sec)
echo "  â†’ Running ESLint..."
npm run lint || {
  echo "âŒ ESLint errors found. Please fix and try again."
  exit 1
}

# 3. Secret detection (~5 sec)
echo "  â†’ Scanning for secrets..."
npm run secretlint || {
  echo "âŒ Potential secrets detected. Please remove and try again."
  exit 1
}

echo "âœ… Pre-commit checks passed!"
